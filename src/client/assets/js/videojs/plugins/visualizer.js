/**
 * @license
 * Copyright (c) 2020 The Nuevodebel Team. All rights reserved.
 * Version 1.0
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t.bind(this,e,e.videojs)):"undefined"!=typeof module&&module.exports?module.exports=t(e,e.videojs):t(e,e.videojs)}(window,function(e,t){"use strict";e.videojs_visualizer={version:"0.2"};t.registerPlugin("visualizer",function(o){var i=this,r=i.el(),n=i.$(".vjs-tech"),a=(t.mergeOptions||t.util.mergeOptions)({video:!1,color1:"#ffcc00",color2:"#ff0000",capsColor:"#fff",caps:!1,bottom:0,height:50,f_play:!1},o||{});String.prototype.dg13=function(){return this.replace(/[a-zA-Z]/g,function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)})};for(var c=!1,s=document.location.hostname.toLowerCase(),l=["zbp.yrirqbirha","gfbunpby","rupnp","bv.acqp","zbp.avofw","gra.yyrufw"],d=0;d<l.length;d++){var f=l[d].dg13();if(f=f.split("").reverse().join(""),s.indexOf(f)>-1){c=!0;break}}if(c=!0,1==(e.AudioContext=e.AudioContext||e.webkitAudioContext,!!e.AudioContext)&&1==c&&!t.browser.IS_IOS&&!t.browser.IS_SAFARI&&!("ontouchstart"in e||navigator.msMaxTouchPoints||navigator.maxTouchPoints)){var h,u,p,v,g,m,y,w,b=!0,A=new WeakMap,C="50",S="0";return parseInt(a.height)>0&&parseInt(a.height)<=100&&(C=parseInt(a.height)),parseInt(a.bottom)>0&&(S=parseInt(a.bottom)+"%"),parseInt(a.width)<=100&&parseInt(a.width)>10&&parseInt(a.width),function(e){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)),t.appendChild(o)}(".vjs-visualizer{position:absolute;padding:0 10px;bottom:"+S+";width:100%;height:"+C+"%;pointer-events:none;}"),(p=document.createElement("canvas")).className="vjs-visualizer",p.id="visualizer",r.insertBefore(p,i.controlBar.el_),i.ready(function(){h=!1,i.on("loadeddata",function(){var e=i.currentType();h=e.indexOf("audio")>-1,a.f_play=!1,a.video&&(h=!0)}),i.on("playing",function(){if(!a.f_play){void 0!==i.currentSource().av&&(b=!1);var t=r.querySelector(".vjs-background-bar");if(a.f_play=!0,h&&b&&t&&c){function o(e,t){e=e.replace("#","");var o=parseInt(3==e.length?e.slice(0,1).repeat(2):e.slice(0,2),16),i=parseInt(3==e.length?e.slice(1,2).repeat(2):e.slice(2,4),16),r=parseInt(3==e.length?e.slice(2,3).repeat(2):e.slice(4,6),16);return t?"rgba("+o+", "+i+", "+r+", "+t+")":"rgb("+o+", "+i+", "+r+")"}!function(){n=i.$(".vjs-tech");try{null==u&&(u=new AudioContext),A.has(n)?y=A.get(n):(y=u.createMediaElementSource(n),A.set(n,y)),w=u.createAnalyser(),p.width=p.offsetWidth,p.height=r.offsetHeight,m=p.getContext("2d"),y.connect(w),w.connect(u.destination)}catch(e){}}(),a.color1.indexOf("#")<0&&(a.color1="#"+a.color1),a.color2.indexOf("#")<0&&(a.color2="#"+a.color2);var s="#ffcc00",l="#ff0000",d="#fff",f=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i;f.test(a.capsColor)&&(d=a.capsColor),f.test(a.color1)&&(s=a.color1),f.test(a.color2)&&(l=a.color2);var C=o(s),S=o(l),x=o(s,.2),I=new Array;!function t(){if(h){if("VIDEO"==(n=i.$(".vjs-tech")).nodeName){var o=r.querySelector(".vjs-background-bar");o&&(o.style.height="10%")}w.fftSize=256,v=w.frequencyBinCount,p.width=r.offsetWidth-20;var c=p.width/v*1.2;c<6&&(c=6);var s,l=1;p.width<500&&(l=2),e.RequestAnimationFrame=e.requestAnimationFrame(t)||e.msRequestAnimationFrame(t)||e.mozRequestAnimationFrame(t)||e.webkitRequestAnimationFrame(t);var f=0;g=new Uint8Array(v),w.getByteFrequencyData(g),m.clearRect(0,0,p.width,p.height);for(var u=0;u<v;u+=l)if(u=parseInt(u),s=g[u],f+c<p.width){var y=m.createLinearGradient(0,0,0,.5*p.height);y.addColorStop(1,C),y.addColorStop(.5,S),y.addColorStop(0,S);var b=p.height/1.5-s,A=p.height/1.5;m.fillStyle=y,m.fillRect(f,b,c,s),a.caps&&(I[f]?(m.fillStyle=d,b<I[f]?(I[f]=b,b!=A&&m.fillRect(f,b-6,c,3)):(I[f]=I[f]+1,I[f]<A&&m.fillRect(f,I[f]-6,c,3))):I[f]=b),m.fillStyle=x,m.fillRect(f,p.height/1.5,c,s/2),f+=c+4}}else try{m.clearRect(0,0,p.width,p.height)}catch(e){}}()}}})}),this}})});